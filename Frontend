* index.html:
<!DOCTYPE html>
<html>
<head>
  <title>Reparo de Computadores</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>Lista de Equipamentos</h1>
  <ul id="equipamentos"></ul>

  <script src="app.js"></script>
</body>
</html>

*style.css:
body { font-family: Arial, sans-serif; margin: 20px; background: #f9f9f9; }
h1 { color: #333; }
ul { list-style: none; padding: 0; }
li { background: #fff; margin: 5px 0; padding: 10px; border-radius: 5px; box-shadow: 0 0 5px #ccc; }


*app.js:
async function carregarEquipamentos() {
  const res = await fetch('http://localhost:3000/equipamentos');
  const dados = await res.json();
  const ul = document.getElementById('equipamentos');
  ul.innerHTML = '';
  dados.forEach(e => {
    const li = document.createElement('li');
    li.textContent = `${e.cliente_nome} - ${e.tipo} - ${e.status_equipamento}`;
    ul.appendChild(li);
  });
}

carregarEquipamentos();

<!DOCTYPE html>
<html>
<head>
  <title>Reparo de Computadores</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>Reparo de Computadores</h1>

  <h2>Clientes</h2>
  <form id="form-cliente">
    <input type="hidden" id="cliente-id" />
    <input type="text" id="nome" placeholder="Nome" required />
    <input type="email" id="email" placeholder="Email" />
    <input type="text" id="telefone" placeholder="Telefone" />
    <input type="text" id="endereco" placeholder="Endereço" />
    <button type="submit">Salvar Cliente</button>
    <button type="button" id="cancelar">Cancelar</button>
  </form>
  <ul id="clientes"></ul>

  <h2>Equipamentos</h2>
  <ul id="equipamentos"></ul>

  <h2>Agendamentos</h2>
  <ul id="agendamentos"></ul>

  <h2>Revisões</h2>
  <ul id="revisoes"></ul>

  <script src="app.js"></script>
</body>
</html>

// URL base da API
const API = 'http://localhost:3000';

// -------- CLIENTES --------
async function carregarClientes() {
  const res = await fetch(`${API}/clientes`);
  const dados = await res.json();
  const ul = document.getElementById('clientes');
  ul.innerHTML = '';
  dados.forEach(cliente => {
    const li = document.createElement('li');
    li.textContent = `${cliente.nome} - ${cliente.email} - ${cliente.telefone}`;
    
    const editar = document.createElement('button');
    editar.textContent = 'Editar';
    editar.onclick = () => preencherFormulario(cliente);
    
    const deletar = document.createElement('button');
    deletar.textContent = 'Deletar';
    deletar.onclick = () => deletarCliente(cliente.id_cliente);
    
    li.appendChild(editar);
    li.appendChild(deletar);
    ul.appendChild(li);
  });
}

function preencherFormulario(cliente) {
  document.getElementById('cliente-id').value = cliente.id_cliente;
  document.getElementById('nome').value = cliente.nome;
  document.getElementById('email').value = cliente.email;
  document.getElementById('telefone').value = cliente.telefone;
  document.getElementById('endereco').value = cliente.endereco;
}

async function salvarCliente(event) {
  event.preventDefault();
  const id = document.getElementById('cliente-id').value;
  const cliente = {
    nome: document.getElementById('nome').value,
    email: document.getElementById('email').value,
    telefone: document.getElementById('telefone').value,
    endereco: document.getElementById('endereco').value
  };
  
  if (id) {
    // Atualizar
    await fetch(`${API}/clientes/${id}`, {
      method: 'PUT',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(cliente)
    });
  } else {
    // Criar
    await fetch(`${API}/clientes`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(cliente)
    });
  }
  
  limparFormulario();
  carregarClientes();
}

async function deletarCliente(id) {
  if(confirm('Deseja realmente deletar este cliente?')) {
    await fetch(`${API}/clientes/${id}`, { method: 'DELETE' });
    carregarClientes();
  }
}

function limparFormulario() {
  document.getElementById('cliente-id').value = '';
  document.getElementById('form-cliente').reset();
}

document.getElementById('form-cliente').addEventListener('submit', salvarCliente);
document.getElementById('cancelar').addEventListener('click', limparFormulario);

// -------- EQUIPAMENTOS, AGENDAMENTOS, REVISÕES --------
// Função já existente de carregar dados
async function carregarDados() {
  const endpoints = ['equipamentos','agendamentos','revisoes'];
  endpoints.forEach(async (endpoint) => {
    const res = await fetch(`${API}/${endpoint}`);
    const dados = await res.json();
    const ul = document.getElementById(endpoint);
    ul.innerHTML = '';
    dados.forEach(d => {
      const li = document.createElement('li');
      li.textContent = JSON.stringify(d);
      ul.appendChild(li);
    });
  });
}

// Carregar dados ao abrir a página
carregarClientes();
carregarDados();


